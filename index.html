<!DOCTYPE html>
<html lang="en">

<head>
    <!-- google tag (gtag.js) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.4/lottie.min.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HGL07M90WG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-HGL07M90WG');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyyPlay</title>
    <meta content="SkyyPlay" property="og:title" />
    <meta name="keywords"
        content="free movies, free streaming, watch movies online, free tv shows, streaming service, watch movies free, online streaming, SkyyPlay, free movies online, free series online">
    <meta
        content="Click, watch, enjoy. SkyyPlay breaks down the paywall, ensuring that quality content is accessible to everyone."
        property="og:description" />

    <link rel="icon" type="image/x-icon" href="logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.10.3/cdn.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="sources.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        .section-nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.3);
            color: white;
            border-radius: 9999px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all 0.3s;
            backdrop-filter: blur(4px);
        }

        .section-nav-button:hover {
            background-color: rgba(0, 0, 0, 0.5);
        }

        .section-nav-button.prev {
            left: 0;
        }

        .section-nav-button.next {
            right: 0;
        }

        .overflow-container {
            position: relative;
            overflow: hidden;
        }

        .scroll-container {
            scroll-behavior: smooth;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .scroll-container::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbars for category sections */
        .category-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .category-container::-webkit-scrollbar {
            display: none;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        @keyframes slide-down {
            0% {
                transform: translateY(-100%);
            }

            100% {
                transform: translateY(0);
            }
        }

        .animate-slide-down {
            animation: slide-down 0.5s ease-out;
        }

        @keyframes glow {
            0% {
                box-shadow: 0 0 5px rgba(167, 139, 250, 0.3);
            }

            50% {
                box-shadow: 0 0 20px rgba(167, 139, 250, 0.5);
            }

            100% {
                box-shadow: 0 0 5px rgba(167, 139, 250, 0.3);
            }
        }

        .search-container {
            position: relative;
            width: 256px;
        }

        .search-container::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: radial-gradient(circle at var(--mouse-x, center) var(--mouse-y, center),
                    rgba(168, 85, 247, 0.5) 0%,
                    rgba(168, 85, 247, 0.2) 25%,
                    transparent 70%);
            border-radius: 9999px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 0;
        }

        .search-container:hover::before,
        .search-container:focus-within::before {
            opacity: 1;
        }

        .search-input {
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            padding-right: 5rem !important;
        }

        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .card-hover::after {
            content: '';
            position: absolute;
            inset: -1px;
            background: linear-gradient(35deg,
                    rgba(168, 85, 247, 0.4),
                    rgba(168, 85, 247, 0),
                    rgba(139, 92, 246, 0.4));
            border-radius: 0.5rem;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 30px -10px rgba(0, 0, 0, 0.5);
        }

        .card-hover:hover::after {
            opacity: 1;
        }

        .card-hover:hover .card-overlay {
            opacity: 1;
            background: linear-gradient(to top,
                    rgba(0, 0, 0, 0.95) 0%,
                    rgba(0, 0, 0, 0.8) 40%,
                    rgba(0, 0, 0, 0.2) 100%);
        }

        .card-overlay {
            opacity: 0;
            transition: all 0.4s ease;
            background: linear-gradient(to top,
                    rgba(0, 0, 0, 0.9) 0%,
                    rgba(0, 0, 0, 0.7) 50%,
                    rgba(0, 0, 0, 0.3) 100%);
        }

        .card-hover:hover img {
            filter: blur(2px) brightness(0.9);
            transition: all 0.4s ease;
        }

        .card-hover img {
            transition: all 0.4s ease;
        }

        .nav-link {
            position: relative;
            transition: all 0.3s ease;
            padding: 0.5rem 0;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background: linear-gradient(to right, #a78bfa, #4c1d95);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-link:hover {
            color: #a78bfa;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .glass-effect {
            background: rgba(17, 24, 39, 0.7);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .modal-animation {
            animation: modalFade 0.3s ease-out;
        }

        @keyframes modalFade {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .floating-button {
            animation: float 3s ease-in-out infinite;
        }

        .search-input:focus {
            box-shadow: 0 0 20px rgba(167, 139, 250, 0.3);
            transform: scale(1.02);
            background: rgba(31, 41, 55, 0.9);
        }

        .search-input:focus+div {
            opacity: 0.7;
            transform: translateY(-50%) scale(0.95);
        }

        .search-input+div {
            transition: all 0.3s ease;
            opacity: 0.5;
            z-index: 2;
        }

        html {
            scroll-behavior: smooth;
        }

        .scroll-top-button {
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }

        .scroll-top-button.visible {
            opacity: 1;
            visibility: visible;
        }

        #githubButton img,
        #kofiButton img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(180deg);
            }
        }

        .settings-icon {
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .settings-icon:hover {
            transform: rotate(180deg);
        }

        /* Top 10 section styles */
        .top10-item {
            position: relative;
            transition: transform 0.3s ease;
        }

        .top10-item:hover {
            transform: scale(1.05);
        }

        .top10-number {
            position: absolute;
            left: -10px;
            bottom: 0;
            font-size: 120px;
            font-weight: 900;
            line-height: 1;
            color: white;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            z-index: 10;
            opacity: 0.8;
        }

        /* Mobile view for carousel - only show logo and watch button */
        @media (max-width: 768px) {
            .carousel-content-info {
                display: flex !important;
                flex-direction: column;
                padding: 1rem !important;
                align-items: center;
                /* Center items horizontally */
                text-align: center;
                /* Center text */
            }

            .carousel-content-info>* {
                display: none !important;
            }

            .carousel-logo-container {
                display: flex !important;
                height: 30px !important;
                /* Increased from 10px to 20px */
                margin-bottom: 0.75rem !important;
                justify-content: center;
                /* Center logo */
            }

            .carousel-logo-container img {
                max-height: 100%;
                max-width: 80%;
                /* Control width */
            }

            .carousel-watch-button {
                display: inline-flex !important;
                /* Changed from flex to inline-flex */
                margin-top: 0.5rem;
                padding: 0.5rem 1.5rem;
                font-size: 0.875rem;
                width: auto;
                /* Let it size to content */
                justify-content: center;
            }
        }

        /* Category section styles */
        .category-section {
            margin-bottom: 1rem;
        }

        .category-title {
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-weight: 700;
            background-image: linear-gradient(to right, #a78bfa, #7c3aed);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .category-container {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding-bottom: 1rem;
            gap: 1rem;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .category-item {
            flex: 0 0 auto;
            width: 180px;
            transition: transform 0.3s ease;
        }

        .category-item:hover {
            transform: translateY(-5px);
        }

        .scroll-container {
            display: flex !important;
            flex-wrap: nowrap !important;
            overflow-x: scroll !important;
            scroll-behavior: smooth !important;
            -webkit-overflow-scrolling: touch !important;
            /* For iOS momentum scrolling */
            scrollbar-width: none !important;
            /* Firefox */
            -ms-overflow-style: none !important;
            /* IE and Edge */
            padding-bottom: 10px !important;
            gap: 1rem !important;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .scroll-container::-webkit-scrollbar {
            display: none !important;
        }

        /* Ensure items don't shrink */
        .scroll-container>* {
            flex: 0 0 auto !important;
        }

        /* Ensure the container is visible and not constrained */
        .overflow-container {
            position: relative !important;
            overflow-x: hidden !important;
            padding: 0 10px !important;
            /* Add padding for the buttons */
        }

        /* Make navigation buttons more visible */
        .section-nav-button {
            position: absolute !important;
            top: 50% !important;
            transform: translateY(-50%) !important;
            background-color: rgba(0, 0, 0, 0.6) !important;
            color: white !important;
            border-radius: 9999px !important;
            width: 40px !important;
            height: 40px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            z-index: 20 !important;
            transition: all 0.3s !important;
            backdrop-filter: blur(4px) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            cursor: pointer !important;
        }

        .section-nav-button:hover {
            background-color: rgba(0, 0, 0, 0.8) !important;
            transform: translateY(-50%) scale(1.1) !important;
        }

        .section-nav-button.prev {
            left: 5px !important;
        }

        .section-nav-button.next {
            right: 5px !important;
        }
    </style>
</head>

<body class="bg-gray-900 text-white min-h-screen" x-data="app()" @keydown.meta.k.prevent="$refs.searchInput.focus()"
    @keydown.ctrl.k.prevent="$refs.searchInput.focus()">
    <!-- Loading Animation Container -->
    <div id="lottie-loader" class="fixed inset-0 z-50 bg-gray-900 flex items-center justify-center">
        <div id="lottie-animation" style="width: 200px; height: 200px;"></div>
    </div>

    <div x-show="localStorage.getItem('showParticles') !== 'false'" id="particles-js"
        class="fixed inset-0 pointer-events-none z-0"></div>

    <!-- navigation -->
    <nav class="fixed w-full z-50 glass-effect">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4 md:space-x-8">
                    <div class="flex items-center space-x-3">
                        <img src="logo.png" alt=" Logo" class="h-8 w-8 md:h-10 md:w-10">
                        <span
                            class="hidden sm:inline text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-violet-800">SkyyPlay</span>
                    </div>
                    <!-- mobile search bar -->
                    <div class="md:hidden relative">
                        <input type="text" x-model="searchQuery" @keyup.enter="redirectToSearch()"
                            placeholder="Search..."
                            class="w-32 bg-gray-800 rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-purple-400">
                    </div>
                    <div class="hidden md:flex space-x-6">
                        <button @click="currentTab = currentTab === 'movies' ? 'shows' : 'movies'" class="nav-link">
                            <span x-text="currentTab === 'movies' ? 'Switch to TV Shows' : 'Switch to Movies'"></span>
                        </button>
                        <a href="livesports.html" class="nav-link">Live Sports</a>
                        <a href="search.html" class="nav-link">Search</a>
                        <button @click="showWatchLater = true" class="nav-link flex items-center space-x-2">
                            <span>Watch Later</span>
                            <span x-show="watchLaterCount > 0"
                                class="bg-purple-600 text-white text-xs flex items-center justify-center rounded-full w-6 h-6"
                                x-text="watchLaterCount"></span>
                        </button>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <div class="search-container hidden md:block">
                            <input type="text" x-ref="searchInput" x-model="searchQuery"
                                @keyup.debounce.300ms="redirectToSearch()" @keyup.enter="redirectToSearch()"
                                placeholder="Search..."
                                class="search-input bg-gray-800 rounded-full px-6 py-2 focus:outline-none focus:ring-2 focus:ring-purple-400 w-64">
                            <div
                                class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center space-x-1 text-gray-400 pointer-events-none select-none">
                                <span class="text-xs bg-gray-700 rounded px-1.5 py-0.5">⌘</span>
                                <span class="text-xs bg-gray-700 rounded px-1.5 py-0.5">K</span>
                            </div>
                        </div>
                    </div>
                    <a href="settings.html" class="text-gray-400 hover:text-purple-400 transition-colors duration-300"
                        title="Settings">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 settings-icon" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                    </a>
                    <!-- mobile menu button -->
                    <button @click="mobileMenu = !mobileMenu" class="md:hidden text-gray-300 hover:text-white">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- mobile menu -->
            <div x-show="mobileMenu" x-transition:enter="transition ease-out duration-200"
                x-transition:enter-start="opacity-0 transform -translate-y-2"
                x-transition:enter-end="opacity-100 transform translate-y-0"
                x-transition:leave="transition ease-in duration-150"
                x-transition:leave-start="opacity-100 transform translate-y-0"
                x-transition:leave-end="opacity-0 transform -translate-y-2" class="md:hidden mt-4 pb-4">
                <div class="flex flex-col space-y-4">
                    <button @click="currentTab = currentTab === 'movies' ? 'shows' : 'movies'; mobileMenu = false"
                        class="text-left px-4 py-2 hover:bg-gray-800 rounded-lg transition-colors">
                        <span x-text="currentTab === 'movies' ? 'Switch to TV Shows' : 'Switch to Movies'"></span>
                    </button>
                    <a href="livesports.html" class="px-4 py-2 hover:bg-gray-800 rounded-lg transition-colors">Live
                        Sports</a>
                    <a href="search.html" class="px-4 py-2 hover:bg-gray-800 rounded-lg transition-colors">Search</a>
                    <button @click="showWatchLater = true; mobileMenu = false"
                        class="flex items-center justify-between px-4 py-2 hover:bg-gray-800 rounded-lg transition-colors">
                        <span>Watch Later</span>
                        <span x-show="watchLaterCount > 0"
                            class="bg-purple-600 text-white text-xs flex items-center justify-center rounded-full w-6 h-6"
                            x-text="watchLaterCount"></span>
                    </button>
                    <a href="settings.html"
                        class="px-4 py-2 hover:bg-gray-800 rounded-lg transition-colors flex items-center space-x-2">
                        <span>Settings</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Add this carousel section right after the navigation section -->
    <div class="pt-24 pb-4" id="featuredCarousel">
        <div class="container mx-auto">
            <div class="relative">
                <!-- Carousel container -->
                <div class="overflow-hidden rounded-xl">
                    <div class="carousel-track flex transition-transform duration-700 ease-out" id="carouselTrack">
                        <!-- Carousel items will be inserted here -->
                    </div>
                </div>

                <!-- Navigation buttons -->
                <button id="prevButton"
                    class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full z-10 transition-all duration-300 backdrop-blur-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <button id="nextButton"
                    class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full z-10 transition-all duration-300 backdrop-blur-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>

                <!-- Pagination dots -->
                <div class="flex justify-center mt-4 space-x-2" id="carouselDots">
                    <!-- Dots will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- continue watching section -->
    <div class="pt-24 pb-4 px-6" id="continueWatchingSection" style="display: none;">
        <div class="container mx-auto">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                <h2
                    class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-violet-800">
                    Continue Watching</h2>
                <button id="clearContinueWatching"
                    class="text-sm text-gray-400 hover:text-purple-400 transition-colors">Clear All</button>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4" id="continueWatchingGrid">
                <!-- Continue watching items will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Top 10 Today Section -->
    <div class="py-8 px-0 sm:px-6" id="top10Section">
        <div class="container mx-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-violet-800 "
                    id="top10Title">
                    Top 10 in English Today
                </h2>
                <a href="#" class="text-gray-400 hover:text-purple-400 transition-colors flex items-center">
                    View All
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20"
                        fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd" />
                    </svg>
                </a>
            </div>
            <div class="relative">
                <div class="relative overflow-container">
                    <div class="flex space-x-4 scroll-container" id="top10Container">
                        <!-- Top 10 items will be inserted here -->
                    </div>

                    <button onclick="scrollSection('top10Container', 'left')" class="section-nav-button prev">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>

                    <button onclick="scrollSection('top10Container', 'right')" class="section-nav-button next">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Category Sections (will be dynamically generated) -->
    <div id="categorySections" class="px-0 sm:px-6 py-4 overflow-hidden">
        <!-- Category sections will be inserted here -->
    </div>

    <!-- streaming services -->
    <div class="container mx-auto px-4 md:px-6 py-8 md:py-12">
        <div class="text-center mb-6 md:mb-8">
            <h2 class="text-xl md:text-2xl font-bold text-gray-300">Content Available From</h2>
            <p class="text-sm md:text-base text-gray-400 mt-2">SkyyPlay aggregates content from various premium
                streaming
                platforms</p>
        </div>
        <div
            class="grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 items-center justify-items-center opacity-80">
            <a href="https://netflix.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg" alt="Netflix"
                    class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(229,9,20,0.7)]">
            </a>
            <a href="https://www.primevideo.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/1/11/Amazon_Prime_Video_logo.svg"
                    alt="Prime Video"
                    class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(0,168,225,0.7)]">
            </a>
            <a href="https://www.disneyplus.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg" alt="Disney+"
                    class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(113,168,255,0.7)]">
            </a>
            <a href="https://www.hulu.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Hulu_logo_%282018%29.svg" alt="Hulu"
                    class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(28,231,131,0.7)]">
            </a>
            <a href="https://www.max.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/1/17/HBO_Max_Logo.svg" alt="HBO Max"
                    class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(116,80,254,0.7)]">
            </a>
            <a href="https://tv.apple.com" target="_blank" class="transform transition-transform hover:scale-105">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/28/Apple_TV_Plus_Logo.svg" alt="Apple TV+"
                    class="h-6 md:h-8 w-auto grayscale hover:grayscale-0 hover:scale-110 hover:brightness-125 transition-all duration-300 transform hover:drop-shadow-[0_0_7px_rgba(0,244,244,0.7)]">
            </a>
        </div>
    </div>

    <footer class="text-gray-400 py-4 md:py-6 mt-8 md:mt-12">
        <div class="container mx-auto px-4 md:px-6 text-center">
            <p class="text-xs md:text-sm">
                All rules and regulations of the respective streaming platforms apply. <br>
                This is a personal project and not affiliated with any streaming service. <br>
            </p>
            <p class="mt-2 text-xs">
                Made with vanilla JS, Tailwind CSS, and TMDB API. <br>
            </p>
            <p class="mt-2 text-xs">
                <a href="mailto:umar.20221CIT0024@presidencuniversity.in"
                    class="text-purple-400 hover:text-purple-300 transition-colors">https://github.com/Umarahm/nova-app</a>
            </p>
        </div>
    </footer>

    <!-- particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        particlesJS('particles-js', {
            particles: {
                number: {
                    value: 80,
                    density: {
                        enable: true,
                        value_area: 800
                    }
                },
                color: {
                    value: '#a855f7'
                },
                shape: {
                    type: 'circle'
                },
                opacity: {
                    value: 0.2,
                    random: true,
                    animation: {
                        enable: true,
                        speed: 1,
                        opacity_min: 0.1,
                        sync: false
                    }
                },
                size: {
                    value: 3,
                    random: true,
                    animation: {
                        enable: true,
                        speed: 2,
                        size_min: 0.1,
                        sync: false
                    }
                },
                line_linked: {
                    enable: true,
                    distance: 150,
                    color: '#a855f7',
                    opacity: 0.2,
                    width: 1
                },
                move: {
                    enable: true,
                    speed: 1,
                    direction: 'none',
                    random: true,
                    straight: false,
                    out_mode: 'out',
                    bounce: false,
                }
            },
            interactivity: {
                detect_on: 'window',
                events: {
                    onhover: {
                        enable: true,
                        mode: 'grab'
                    },
                    onclick: {
                        enable: true,
                        mode: 'push'
                    },
                    resize: true
                },
                modes: {
                    grab: {
                        distance: 140,
                        line_linked: {
                            opacity: 0.5
                        }
                    },
                    push: {
                        particles_nb: 4
                    }
                }
            },
            retina_detect: true
        });
    </script>

    <!-- watch later modal -->
    <div x-show="showWatchLater"
        class="fixed inset-0 z-50 overflow-auto bg-black bg-opacity-90 flex items-start justify-center"
        @click.away="showWatchLater = false" x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0">
        <div class="bg-gray-900 rounded-lg w-full max-w-4xl mt-20 modal-animation">
            <div class="p-6 border-b border-gray-800">
                <div class="flex items-center justify-between">
                    <h2 class="text-2xl font-bold">Watch Later</h2>
                    <div class="flex items-center space-x-4">
                        <button @click="showClearConfirm = true" x-show="watchLaterItems.length > 0"
                            class="text-gray-400 hover:text-red-500 flex items-center space-x-2 transition-colors duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                            </svg>
                            <span>Clear All</span>
                        </button>
                        <button @click="showWatchLater = false" class="text-gray-500 hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="p-6">
                <div x-show="!watchLaterItems.length" class="text-center text-gray-500 py-8">
                    No items in your watch later list
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                    <template x-for="item in watchLaterItems" :key="item.id">
                        <div class="relative bg-gray-800 rounded-lg overflow-hidden">
                            <a :href="'watch.html?id=' + item.id + '&type=' + item.type" class="block">
                                <img :src="'https://image.tmdb.org/t/p/w500' + item.poster_path"
                                    :alt="item.title || item.name" class="w-full h-48 object-cover">
                                <div class="p-4">
                                    <h3 class="font-medium" x-text="item.title || item.name"></h3>
                                    <p class="text-gray-400 text-sm mt-1"
                                        x-text="'⭐ ' + (item.vote_average || 'N/A') + '/10'"></p>
                                </div>
                            </a>
                            <button @click="toggleWatchLater(item)"
                                class="absolute top-2 right-2 p-2 bg-gray-900 bg-opacity-75 rounded-full hover:bg-purple-600 transition-all duration-300 text-purple-400">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor"
                                    viewBox="0 0 24 24">
                                    <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z" />
                                </svg>
                            </button>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>

    <!-- clear confirmation modal -->
    <div x-show="showClearConfirm"
        class="fixed inset-0 z-[60] overflow-auto bg-black bg-opacity-90 flex items-center justify-center"
        @click.away="showClearConfirm = false" x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform scale-95" x-transition:enter-end="opacity-100 transform scale-100"
        x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100 transform scale-100"
        x-transition:leave-end="opacity-0 transform scale-95">
        <div class="bg-gray-900 rounded-lg w-full max-w-md p-6 modal-animation">
            <div class="text-center">
            </div>
        </div>
    </div>

    <!-- context menu -->
    <div x-data="contextMenuHandler()" x-show="$store.contextMenu.show" @click.away="$store.contextMenu.show = false"
        @keydown.escape.window="$store.contextMenu.show = false"
        :style="`position: fixed; left: ${$store.contextMenu.x}px; top: ${$store.contextMenu.y}px`"
        class="bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50 w-56 py-2 animate-fade-in" x-cloak>

        <div class="px-4 py-2 border-b border-gray-700">
            <h3 class="text-sm font-medium text-gray-300"
                x-text="$store.contextMenu.item?.title || $store.contextMenu.item?.name"></h3>
        </div>

        <a :href="'https://www.themoviedb.org/' + (currentTab === 'movies' ? 'movie' : 'tv') + '/' + $store.contextMenu.item?.id"
            target="_blank" class="px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2 w-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
            </svg>
            View on TMDB
        </a>

        <button @click="copyToClipboard($store.contextMenu.item?.title || $store.contextMenu.item?.name)"
            class="px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2 w-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
            Copy Title
        </button>

        <button @click="copyToClipboard($store.contextMenu.item?.id)"
            class="px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2 w-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
            </svg>
            Copy TMDB ID
        </button>

        <button @click="copyToClipboard($store.contextMenu.item?.overview)"
            class="px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2 w-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
            </svg>
            Copy Overview
        </button>

        <div class="border-t border-gray-700 my-2"></div>

        <button @click="toggleWatchLater($store.contextMenu.item); $store.contextMenu.show = false"
            class="px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 flex items-center gap-2 w-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
            </svg>
            <span
                x-text="isInWatchLater($store.contextMenu.item) ? 'Remove from Watch Later' : 'Add to Watch Later'"></span>
        </button>
    </div>

    <!-- toast notification -->
    <div x-data="toastHandler()" x-show="show" @show-toast.window="showToast($event.detail.message)"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform translate-y-8"
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100 transform translate-y-0"
        x-transition:leave-end="opacity-0 transform translate-y-8"
        class="fixed bottom-4 right-4 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-xl z-[100] flex items-center gap-2"
        style="pointer-events: none;">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-400 flex-shrink-0" viewBox="0 0 20 20"
            fill="currentColor">
            <path fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                clip-rule="evenodd" />
        </svg>
        <span x-text="message" class="text-sm"></span>
    </div>

    <script>
        function toastHandler() {
            return {
                message: '',
                show: false,
                showToast(msg) {
                    this.message = msg;
                    this.show = true;
                    setTimeout(() => {
                        this.show = false;
                    }, 3000);
                }
            }
        }

        function contextMenuHandler() {
            return {
                copyToClipboard(text) {
                    if (!text) return;
                    navigator.clipboard.writeText(text).then(() => {
                        window.dispatchEvent(new CustomEvent('show-toast', {
                            detail: { message: 'Copied to clipboard!' }
                        }));
                    }).catch(() => {
                        window.dispatchEvent(new CustomEvent('show-toast', {
                            detail: { message: 'Failed to copy to clipboard' }
                        }));
                    });
                }
            }
        }

        document.addEventListener('alpine:init', () => {
            Alpine.store('contextMenu', {
                show: false,
                x: 0,
                y: 0,
                item: null
            });
        });
    </script>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.store('contextMenu', {
                show: false,
                x: 0,
                y: 0,
                item: null
            });
        });

        function app() {
            return {
                apiKey: '1070730380f5fee0d87cf0382670b255',
                currentTab: 'shows',
                language: localStorage.getItem('selectedLanguage') || 'ur',
                searchQuery: '',
                showWatchLater: false,
                watchLaterItems: [],
                watchLaterCount: 0,
                showClearConfirm: false,
                mobileMenu: false,

                async init() {
                    const savedItems = localStorage.getItem('watchLater');
                    if (savedItems) {
                        this.watchLaterItems = JSON.parse(savedItems);
                        this.watchLaterCount = this.watchLaterItems.length;
                    }

                    await this.fetchTop10Content();
                    await this.generateCategorySections();

                    this.$watch('currentTab', async () => {
                        await this.fetchTop10Content();
                    });

                    this.$watch('language', () => {
                        this.fetchTop10Content();
                        this.updateTop10Title();
                    });
                },

                redirectToSearch() {
                    if (this.searchQuery.trim()) {
                        window.location.href = `search.html?q=${encodeURIComponent(this.searchQuery.trim())}`;
                    }
                },

                async fetchTop10Content() {
                    const baseUrl = 'https://api.themoviedb.org/3';
                    const endpoint = this.currentTab === 'movies' ? 'movie/popular' : 'tv/popular';
                    const url = `${baseUrl}/${endpoint}?api_key=${this.apiKey}&language=${this.language}&page=1`;

                    try {
                        const response = await fetch(url);
                        const data = await response.json();
                        const top10Items = data.results.slice(0, 10);

                        // Update the Top 10 container
                        const top10Container = document.getElementById('top10Container');
                        top10Container.innerHTML = '';

                        top10Items.forEach((item, index) => {
                            const itemElement = document.createElement('div');
                            itemElement.className = 'top10-item flex-shrink-0 relative';
                            itemElement.innerHTML = `
                                <a href="watch.html?id=${item.id}&type=${this.currentTab === 'movies' ? 'movie' : 'tv'}" class="block">
                                    <div class="relative w-40 md:w-48 aspect-[2/3] rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300">
                                        <img src="https://image.tmdb.org/t/p/w500${item.poster_path}" 
                                            alt="${item.title || item.name}" 
                                            class="w-full h-full object-cover"
                                            onerror="this.src='/logo.png'; this.classList.remove('object-cover'); this.classList.add('object-contain');">
                                        <div class="top10-number">${index + 1}</div>
                                    </div>
                                </a>
                            `;
                            top10Container.appendChild(itemElement);
                        });

                        this.updateTop10Title();
                    } catch (error) {
                        console.error('Error fetching top 10 content:', error);
                    }
                },

                // updateTop10Title() {
                //     const languageName = this.getLanguageName(this.language);
                //     const top10Title = document.getElementById('top10Title');
                //     if (top10Title) {
                //         top10Title.textContent = `Top 10 in ${languageName} Today`;
                //     }
                // },

                getLanguageName(code) {
                    const languages = {
                        en: 'English',
                        fr: 'French',
                        es: 'Spanish',
                        de: 'German',
                        it: 'Italian',
                        ja: 'Japanese',
                        ko: 'Korean',
                        ru: 'Russian',
                        hi: 'Hindi',
                    };
                    return languages[code] || code;
                },

                async generateCategorySections() {
                    // Define categories to generate
                    const categories = [
                        { id: 28, name: 'Action' },
                        { id: 35, name: 'Comedy' },
                        { id: 27, name: 'Horror' },
                        { id: 18, name: 'Drama' },
                        { id: 12, name: 'Adventure' },
                        { id: 14, name: 'Fantasy' },
                        { id: 878, name: 'Science Fiction' },
                        { id: 9648, name: 'Mystery' },
                        { id: 10749, name: 'Romance' },
                        { id: 10751, name: 'Family' },
                        { id: 10752, name: 'War' },
                        { id: 37, name: 'Western' }
                    ];

                    // Shuffle the categories to randomize
                    const shuffledCategories = [...categories].sort(() => 0.5 - Math.random());

                    // Take the first 5 categories
                    const selectedCategories = shuffledCategories.slice(0, 7);

                    const categorySectionsContainer = document.getElementById('categorySections');
                    categorySectionsContainer.innerHTML = '';

                    // Create each category section
                    for (const category of selectedCategories) {
                        await this.createCategorySection(category, categorySectionsContainer);
                    }
                },

                async createCategorySection(category, container) {
                    const baseUrl = 'https://api.themoviedb.org/3/discover';
                    const endpoint = this.currentTab === 'movies' ? 'movie' : 'tv';
                    const url = `${baseUrl}/${endpoint}?api_key=${this.apiKey}&with_genres=${category.id}&language=${this.language}&page=1`;

                    try {
                        const response = await fetch(url);
                        const data = await response.json();
                        const items = data.results.slice(0, 10);

                        if (items.length === 0) return;

                        const sectionElement = document.createElement('div');
                        sectionElement.className = 'category-section container mx-auto';
                        sectionElement.innerHTML = `
        <div class="flex items-center justify-between mb-4 px-4 sm:px-6">
            <h2 class="category-title">${category.name}</h2>
            <a href="#" class="text-gray-400 hover:text-purple-400 transition-colors flex items-center">
                View All
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
            </a>
        </div>
        <div class="relative overflow-container">
            <div class="category-container scroll-container" id="category-${category.id}">
                ${items.map(item => `
                    <div class="category-item">
                        <a href="watch.html?id=${item.id}&type=${this.currentTab === 'movies' ? 'movie' : 'tv'}" class="block rounded-lg overflow-hidden bg-gray-800">
                            <div class="relative aspect-[2/3]">
                                <img src="https://image.tmdb.org/t/p/w500${item.poster_path}" 
                                    alt="${item.title || item.name}" 
                                    class="w-full h-full object-cover"
                                    onerror="this.src='/logo.png'; this.classList.remove('object-cover'); this.classList.add('object-contain');">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-3">
                                    <h3 class="text-sm font-semibold text-white">${item.title || item.name}</h3>
                                    <p class="text-xs text-gray-300 mt-1">⭐ ${item.vote_average || 'N/A'}/10</p>
                                </div>
                            </div>
                        </a>
                    </div>
                `).join('')}
            </div>
            
            <button onclick="scrollSection('category-${category.id}', 'left')" class="section-nav-button prev">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            
            <button onclick="scrollSection('category-${category.id}', 'right')" class="section-nav-button next">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>
    `;

                        container.appendChild(sectionElement);
                    } catch (error) {
                        console.error(`Error fetching ${category.name} content:`, error);
                    }
                },

                toggleWatchLater(item) {
                    const index = this.watchLaterItems.findIndex(i => i.id === item.id);
                    if (index === -1) {
                        this.watchLaterItems.push({
                            ...item,
                            type: this.currentTab === 'movies' ? 'movie' : 'tv'
                        });
                    } else {
                        this.watchLaterItems.splice(index, 1);
                    }
                    this.watchLaterCount = this.watchLaterItems.length;
                    localStorage.setItem('watchLater', JSON.stringify(this.watchLaterItems));
                },

                isInWatchLater(item) {
                    return this.watchLaterItems.some(i => i.id === item.id);
                },

                clearWatchLater() {
                    this.showClearConfirm = true;
                },

                doClearWatchLater() {
                    this.watchLaterItems = [];
                    this.watchLaterCount = 0;
                    localStorage.setItem('watchLater', JSON.stringify([]));
                    this.showClearConfirm = false;
                },

                changeLanguage(newLanguage) {
                    this.language = newLanguage;
                    localStorage.setItem('selectedLanguage', newLanguage);
                    this.fetchTop10Content();
                }
            }
        }
    </script>
    <button @click="window.scrollTo({top: 0})" @scroll.window="showScrollTop = window.pageYOffset > 500"
        x-data="{ showScrollTop: false }" x-show="showScrollTop" x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform translate-y-10"
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100 transform translate-y-0"
        x-transition:leave-end="opacity-0 transform translate-y-10"
        class="fixed bottom-8 right-8 bg-purple-600 hover:bg-purple-700 text-white rounded-full p-4 shadow-lg cursor-pointer transition-all duration-300 hover:scale-110 z-50">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </button>

    <script>
        document.querySelector('.search-container input').addEventListener('mousemove', (e) => {
            const container = e.target.parentElement;
            const rect = container.getBoundingClientRect();
            const x = ((e.clientX - rect.left) * 100) / rect.width;
            const y = ((e.clientY - rect.top) * 100) / rect.height;
            container.style.setProperty('--mouse-x', x + '%');
            container.style.setProperty('--mouse-y', y + '%');
        });
    </script>
    <script>
        window.addEventListener('appearance-changed', () => {
            const particlesEl = document.getElementById('particles-js');
            if (localStorage.getItem('showParticles') === 'false') {
                particlesEl.style.display = 'none';
            } else {
                particlesEl.style.display = 'block';
            }
        });
    </script>
    <script>
        // Continue Watching Functionality
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize continue watching array from localStorage
            let continueWatchingItems = JSON.parse(localStorage.getItem('continueWatching')) || [];
            const continueWatchingSection = document.getElementById('continueWatchingSection');
            const continueWatchingGrid = document.getElementById('continueWatchingGrid');
            const clearContinueWatchingBtn = document.getElementById('clearContinueWatching');

            // Display continue watching section if there are items
            function updateContinueWatchingSection() {
                if (continueWatchingItems.length > 0) {
                    continueWatchingSection.style.display = 'block';
                    renderContinueWatchingItems();
                } else {
                    continueWatchingSection.style.display = 'none';
                }
            }

            // Render continue watching items
            function renderContinueWatchingItems() {
                continueWatchingGrid.innerHTML = '';

                continueWatchingItems.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'relative card-hover';
                    itemElement.innerHTML = `
                    <a href="watch.html?id=${item.id}&type=${item.type}" class="block rounded-lg overflow-hidden bg-gray-800 aspect-[2/3]">
                        <div class="relative h-full">
                            <img src="https://image.tmdb.org/t/p/w500${item.poster_path}" 
                                alt="${item.title || item.name}" 
                                class="w-full h-full object-cover" 
                                onerror="this.src='/logo.png'; this.classList.remove('object-cover'); this.classList.add('object-contain');" />
                            <div class="card-overlay absolute inset-0 flex flex-col justify-end p-2 sm:p-3 md:p-4">
                                <h3 class="text-sm md:text-lg font-semibold">${item.title || item.name}</h3>
                                <p class="text-gray-400 text-xs md:text-sm mt-1">⭐ ${item.vote_average || 'N/A'}/10</p>
                                <p class="text-purple-400 text-xs mt-1">Continue watching</p>
                            </div>
                        </div>
                    </a>
                    <button class="remove-continue-watching absolute top-2 right-2 p-1.5 md:p-2 bg-gray-900 bg-opacity-75 rounded-full hover:bg-red-600 transition-all duration-300 text-white" data-id="${item.id}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 md:h-5 md:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                `;
                    continueWatchingGrid.appendChild(itemElement);
                });

                // Add event listeners to remove buttons
                document.querySelectorAll('.remove-continue-watching').forEach(button => {
                    button.addEventListener('click', function (e) {
                        e.preventDefault();
                        e.stopPropagation();
                        const itemId = parseInt(this.getAttribute('data-id'));
                        removeFromContinueWatching(itemId);
                    });
                });
            }

            // Add item to continue watching
            function addToContinueWatching(item) {
                // Check if item already exists
                const existingIndex = continueWatchingItems.findIndex(i => i.id === item.id);

                // If exists, remove it so we can add it to the front
                if (existingIndex !== -1) {
                    continueWatchingItems.splice(existingIndex, 1);
                }

                // Add item to the beginning of the array
                continueWatchingItems.unshift({
                    id: item.id,
                    title: item.title || item.name,
                    name: item.name || item.title,
                    poster_path: item.poster_path,
                    vote_average: item.vote_average,
                    type: item.type || (app().currentTab === 'movies' ? 'movie' : 'tv')
                });

                // Limit to 10 items
                if (continueWatchingItems.length > 10) {
                    continueWatchingItems = continueWatchingItems.slice(0, 10);
                }

                // Save to localStorage
                localStorage.setItem('continueWatching', JSON.stringify(continueWatchingItems));

                // Update the UI
                updateContinueWatchingSection();
            }

            // Remove item from continue watching
            function removeFromContinueWatching(itemId) {
                continueWatchingItems = continueWatchingItems.filter(item => item.id !== itemId);
                localStorage.setItem('continueWatching', JSON.stringify(continueWatchingItems));
                updateContinueWatchingSection();
            }

            // Clear all continue watching items
            clearContinueWatchingBtn.addEventListener('click', function () {
                continueWatchingItems = [];
                localStorage.setItem('continueWatching', JSON.stringify(continueWatchingItems));
                updateContinueWatchingSection();
            });

            // Add click event listeners to all content cards
            document.addEventListener('click', function (e) {
                // Find the closest card-hover parent if clicked on a child element
                const cardElement = e.target.closest('.card-hover');
                if (cardElement) {
                    const linkElement = cardElement.querySelector('a');
                    if (linkElement && linkElement.href.includes('watch.html')) {
                        // Extract item data
                        const item = {};

                        // Get ID and type from the URL
                        const url = new URL(linkElement.href);
                        item.id = parseInt(url.searchParams.get('id'));
                        item.type = url.searchParams.get('type');

                        // Get other data from the card
                        const titleElement = cardElement.querySelector('h3');
                        item.title = titleElement ? titleElement.textContent : '';

                        const ratingElement = cardElement.querySelector('.text-gray-400');
                        item.vote_average = ratingElement ?
                            parseFloat(ratingElement.textContent.replace('⭐ ', '').split('/')[0]) :
                            0;

                        const imgElement = cardElement.querySelector('img');
                        if (imgElement && imgElement.src.includes('image.tmdb.org')) {
                            item.poster_path = imgElement.src.split('w500')[1];
                        } else {
                            item.poster_path = '/logo.png';
                        }

                        // Add to continue watching
                        addToContinueWatching(item);
                    }
                }
            });

            // Initialize on page load
            updateContinueWatchingSection();
        });
    </script>
    <!-- Add this script at the end of the body -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Carousel functionality
            const apiKey = '1070730380f5fee0d87cf0382670b255';
            const carouselTrack = document.getElementById('carouselTrack');
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const dotsContainer = document.getElementById('carouselDots');

            let currentIndex = 0;
            let totalItems = 0;
            let itemsPerView = 1;
            let carouselItems = [];
            let autoplayInterval;

            // Fetch popular movies and TV shows
            async function fetchFeaturedContent() {
                try {
                    // Fetch popular movies
                    const movieResponse = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1`);
                    const movieData = await movieResponse.json();

                    // Fetch popular TV shows
                    const tvResponse = await fetch(`https://api.themoviedb.org/3/tv/popular?api_key=${apiKey}&language=en-US&page=1`);
                    const tvData = await tvResponse.json();

                    // Combine and shuffle the results
                    let combinedResults = [...movieData.results.map(item => ({ ...item, type: 'movie' })),
                    ...tvData.results.map(item => ({ ...item, type: 'tv' }))];

                    // Shuffle array
                    combinedResults = combinedResults.sort(() => 0.5 - Math.random());

                    // Take first 10 items
                    carouselItems = combinedResults.slice(0, 10);

                    // Render carousel
                    renderCarousel();

                    // Start autoplay
                    startAutoplay();
                } catch (error) {
                    console.error('Error fetching featured content:', error);
                }
            }

            // Render carousel items
            function renderCarousel() {
                carouselTrack.innerHTML = '';
                dotsContainer.innerHTML = '';

                // Calculate items per view based on screen width
                updateItemsPerView();

                // Create carousel items
                carouselItems.forEach((item, index) => {
                    // Fetch additional details including logos
                    fetchItemDetails(item, index);

                    // Create carousel item
                    const carouselItem = document.createElement('div');
                    carouselItem.className = 'carousel-item flex-shrink-0 transition-all duration-700 px-1';
                    carouselItem.style.width = `${100 / itemsPerView}%`;

                    const itemLink = document.createElement('a');
                    itemLink.href = `watch.html?id=${item.id}&type=${item.type}`;
                    itemLink.className = 'block relative overflow-hidden rounded-lg aspect-[16/7] group';

                    // Background image with gradient overlay
                    const bgContainer = document.createElement('div');
                    bgContainer.className = 'absolute inset-0';

                    const bgImage = document.createElement('div');
                    bgImage.className = 'absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105';
                    bgImage.style.backgroundImage = `url(https://image.tmdb.org/t/p/original${item.backdrop_path || item.poster_path})`;

                    // Gradient overlay
                    const overlay = document.createElement('div');
                    overlay.className = 'absolute inset-0 bg-gradient-to-r from-black/90 via-black/60 to-transparent';

                    // Content container
                    const content = document.createElement('div');
                    content.className = 'carousel-content-info absolute bottom-0 left-0 right-0 p-4 md:p-8 z-10 w-full md:w-2/3';

                    // Logo container (will be populated later)
                    const logoContainer = document.createElement('div');
                    logoContainer.className = 'carousel-logo-container h-16 md:h-24 mb-3 md:mb-4 flex items-end';
                    logoContainer.id = `logo-${item.id}`;

                    // Title (fallback if no logo)
                    const title = document.createElement('h3');
                    title.className = 'text-2xl md:text-4xl font-bold text-white transition-all duration-300 group-hover:text-purple-400 mb-2';
                    title.textContent = item.title || item.name;
                    title.id = `title-${item.id}`;

                    // Year and runtime info
                    const metaInfo = document.createElement('div');
                    metaInfo.className = 'flex items-center text-sm md:text-base text-gray-300 mb-2 space-x-2';

                    const year = document.createElement('span');
                    year.textContent = new Date(item.release_date || item.first_air_date || '').getFullYear() || 'N/A';

                    const rating = document.createElement('div');
                    rating.className = 'flex items-center';
                    rating.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-400 mr-1" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    ${item.vote_average ? item.vote_average.toFixed(1) : 'N/A'}
                `;

                    // Overview text
                    const overview = document.createElement('p');
                    overview.className = 'text-sm md:text-base text-gray-300 mb-4 line-clamp-2 md:line-clamp-3 max-w-xl';
                    overview.textContent = item.overview;

                    // Genre tags
                    const genreContainer = document.createElement('div');
                    genreContainer.className = 'flex flex-wrap gap-2 mb-4';

                    // Add genre IDs (will be replaced with actual genres later)
                    const genreIds = item.genre_ids || [];
                    genreIds.slice(0, 4).forEach(genreId => {
                        const genreTag = document.createElement('span');
                        genreTag.className = 'px-2 py-1 bg-purple-600/70 text-white text-xs rounded-full';
                        genreTag.id = `genre-${item.id}-${genreId}`;
                        genreTag.textContent = 'Loading...';
                        genreContainer.appendChild(genreTag);
                    });

                    // Watch button
                    const watchButton = document.createElement('button');
                    watchButton.className = 'carousel-watch-button bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full flex items-center space-x-2 transition-all duration-300 transform group-hover:scale-105';
                    watchButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                    </svg>
                    <span>Watch Now</span>
                `;

                    // Assemble the item
                    metaInfo.appendChild(year);
                    metaInfo.appendChild(document.createTextNode('•'));
                    metaInfo.appendChild(rating);

                    content.appendChild(logoContainer);
                    content.appendChild(title);
                    content.appendChild(metaInfo);
                    content.appendChild(overview);
                    content.appendChild(genreContainer);
                    content.appendChild(watchButton);

                    bgContainer.appendChild(bgImage);
                    bgContainer.appendChild(overlay);

                    itemLink.appendChild(bgContainer);
                    itemLink.appendChild(content);

                    carouselItem.appendChild(itemLink);
                    carouselTrack.appendChild(carouselItem);

                    // Create dot for pagination
                    const dot = document.createElement('button');
                    dot.className = 'w-2 h-2 rounded-full transition-all duration-300 bg-gray-600 hover:bg-gray-500';
                    dot.setAttribute('data-index', index);
                    dot.addEventListener('click', () => goToSlide(index));
                    dotsContainer.appendChild(dot);

                    // Fetch genres for this item
                    fetchGenres(item);
                });

                // Update carousel state
                totalItems = carouselItems.length;
                updateCarousel();
            }

            // Fetch genres for an item
            async function fetchGenres(item) {
                try {
                    const type = item.type;
                    const genreUrl = `https://api.themoviedb.org/3/genre/${type}/list?api_key=${apiKey}&language=en-US`;

                    const response = await fetch(genreUrl);
                    const data = await response.json();

                    const genres = data.genres || [];
                    const genreIds = item.genre_ids || [];

                    // Update genre tags
                    genreIds.forEach(genreId => {
                        const genre = genres.find(g => g.id === genreId);
                        if (genre) {
                            const genreTag = document.getElementById(`genre-${item.id}-${genreId}`);
                            if (genreTag) {
                                genreTag.textContent = genre.name;
                            }
                        }
                    });
                } catch (error) {
                    console.error('Error fetching genres:', error);
                }
            }

            // Fetch additional details for an item (including logos)
            async function fetchItemDetails(item, index) {
                try {
                    const type = item.type;
                    const response = await fetch(`https://api.themoviedb.org/3/${type}/${item.id}/images?api_key=${apiKey}`);
                    const data = await response.json();

                    // Check if we have logos
                    if (data.logos && data.logos.length > 0) {
                        // Find English logo or use the first one
                        const logo = data.logos.find(logo => logo.iso_639_1 === 'en') || data.logos[0];

                        // Update the logo container
                        setTimeout(() => {
                            const logoContainer = document.getElementById(`logo-${item.id}`);
                            const titleElement = document.getElementById(`title-${item.id}`);

                            if (logoContainer && titleElement) {
                                logoContainer.innerHTML = `<img src="https://image.tmdb.org/t/p/w500${logo.file_path}" alt="${item.title || item.name} logo" class="max-h-full max-w-[300px] object-contain">`;
                                titleElement.style.display = 'none';
                            }
                        }, 100);
                    }
                } catch (error) {
                    console.error('Error fetching item details:', error);
                }
            }

            // Update items per view based on screen width
            function updateItemsPerView() {
                // Always show just one item for the immersive hero-style carousel
                itemsPerView = 1;
            }

            // Update carousel position and state
            function updateCarousel() {
                // Calculate maximum index
                const maxIndex = Math.max(0, totalItems - itemsPerView);

                // Ensure current index is within bounds
                currentIndex = Math.max(0, Math.min(currentIndex, maxIndex));

                // Update track position
                const offset = (currentIndex / itemsPerView) * 100;
                carouselTrack.style.transform = `translateX(-${offset}%)`;

                // Update dots
                const dots = dotsContainer.querySelectorAll('button');
                dots.forEach((dot, index) => {
                    if (index === currentIndex) {
                        dot.classList.add('bg-purple-500', 'w-4');
                        dot.classList.remove('bg-gray-600');
                    } else {
                        dot.classList.remove('bg-purple-500', 'w-4');
                        dot.classList.add('bg-gray-600');
                    }
                });

                // Update button states
                prevButton.classList.toggle('opacity-50', currentIndex === 0);
                nextButton.classList.toggle('opacity-50', currentIndex === maxIndex);
            }

            // Go to specific slide
            function goToSlide(index) {
                currentIndex = index;
                updateCarousel();
            }

            // Go to next slide
            function nextSlide() {
                const maxIndex = Math.max(0, totalItems - itemsPerView);
                currentIndex = Math.min(currentIndex + itemsPerView, maxIndex);
                updateCarousel();
            }

            // Go to previous slide
            function prevSlide() {
                currentIndex = Math.max(0, currentIndex - itemsPerView);
                updateCarousel();
            }

            // Start autoplay
            function startAutoplay() {
                stopAutoplay();
                autoplayInterval = setInterval(() => {
                    const maxIndex = Math.max(0, totalItems - itemsPerView);
                    if (currentIndex >= maxIndex) {
                        currentIndex = 0;
                    } else {
                        currentIndex++;
                    }
                    updateCarousel();
                }, 6000); // Longer interval for the immersive experience
            }

            // Stop autoplay
            function stopAutoplay() {
                if (autoplayInterval) {
                    clearInterval(autoplayInterval);
                }
            }

            // Add touch support for mobile
            let touchStartX = 0;
            let touchEndX = 0;

            carouselTrack.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });

            carouselTrack.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, { passive: true });

            function handleSwipe() {
                const swipeThreshold = 50;
                if (touchEndX < touchStartX - swipeThreshold) {
                    // Swipe left
                    nextSlide();
                    stopAutoplay();
                } else if (touchEndX > touchStartX + swipeThreshold) {
                    // Swipe right
                    prevSlide();
                    stopAutoplay();
                }
            }

            // Event listeners
            nextButton.addEventListener('click', () => {
                nextSlide();
                stopAutoplay();
            });

            prevButton.addEventListener('click', () => {
                prevSlide();
                stopAutoplay();
            });

            // Handle window resize
            window.addEventListener('resize', () => {
                const oldItemsPerView = itemsPerView;
                updateItemsPerView();

                if (oldItemsPerView !== itemsPerView) {
                    // Recalculate carousel
                    updateCarousel();
                }
            });

            // Initialize carousel
            fetchFeaturedContent();
        });
    </script>
    <script>
        // Enhanced scrollSection function with direct scrollLeft manipulation
        function scrollSection(containerId, direction) {
            console.log(`Attempting to scroll: ${containerId} in direction: ${direction}`);

            const container = document.getElementById(containerId);
            if (!container) {
                console.error(`Container not found: ${containerId}`);
                return;
            }

            // Log container properties for debugging
            console.log(`Container found: width=${container.offsetWidth}, scrollWidth=${container.scrollWidth}, current scrollLeft=${container.scrollLeft}`);

            // Calculate scroll amount based on container width
            const scrollAmount = direction === 'left' ? -container.offsetWidth * 0.75 : container.offsetWidth * 0.75;
            console.log(`Scrolling by: ${scrollAmount}px`);

            // Calculate the new scroll position
            const newScrollLeft = container.scrollLeft + scrollAmount;

            // Use scrollTo with smooth behavior
            container.scrollTo({
                left: newScrollLeft,
                behavior: 'smooth'
            });

            // Fallback method if scrollTo doesn't work
            if (!('scrollBehavior' in document.documentElement.style)) {
                // For browsers that don't support smooth scrolling
                const startTime = performance.now();
                const duration = 300; // milliseconds
                const startScrollLeft = container.scrollLeft;

                function step(currentTime) {
                    const elapsed = currentTime - startTime;
                    if (elapsed >= duration) {
                        container.scrollLeft = newScrollLeft;
                        return;
                    }

                    const progress = elapsed / duration;
                    const easeInOutCubic = progress < 0.5
                        ? 4 * progress * progress * progress
                        : 1 - Math.pow(-2 * progress + 2, 3) / 2;

                    container.scrollLeft = startScrollLeft + (scrollAmount * easeInOutCubic);
                    requestAnimationFrame(step);
                }

                requestAnimationFrame(step);
            }
        }

        // Add this to ensure all scrollable containers work properly
        document.addEventListener('DOMContentLoaded', function () {
            // Make sure all scrollable containers have proper CSS
            const scrollContainers = document.querySelectorAll('.scroll-container');
            scrollContainers.forEach(container => {
                // Ensure the container has proper overflow settings
                container.style.overflowX = 'scroll';
                container.style.scrollBehavior = 'smooth';
                container.style.WebkitOverflowScrolling = 'touch'; // For iOS momentum scrolling

                // Make sure the container is not being constrained
                if (container.parentElement.classList.contains('overflow-container')) {
                    container.parentElement.style.overflowX = 'hidden';
                }
            });

            // Verify the top10Container specifically
            const top10Container = document.getElementById('top10Container');
            if (top10Container) {
                console.log('Top 10 container found and configured for scrolling');
                // Force proper styling
                top10Container.style.display = 'flex';
                top10Container.style.flexWrap = 'nowrap';
                top10Container.style.overflowX = 'scroll';
                top10Container.style.scrollBehavior = 'smooth';
                top10Container.style.scrollSnapType = 'x mandatory';

                // Check if items inside have enough width to make scrolling necessary
                const totalItemWidth = Array.from(top10Container.children)
                    .reduce((total, item) => total + item.offsetWidth, 0);
                console.log(`Total width of items: ${totalItemWidth}px vs container width: ${top10Container.offsetWidth}px`);
            }
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const animation = lottie.loadAnimation({
                container: document.getElementById('lottie-animation'),
                renderer: 'svg',
                loop: true,
                autoplay: true,
                path: 'Animation - 1748423844454.json' // Ensure this path matches your actual file location
            });

            // Automatically hide loader after a delay
            setTimeout(() => {
                document.getElementById('lottie-loader').style.display = 'none';
            }, 2000); // Adjust time as needed
        });
    </script>

</body>

</html>